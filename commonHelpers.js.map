{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\niziToast.settings({\n  timeout: 3000,\n  position: 'topRight',\n  transitionIn: \"fadeInRight\",\n  transitionOut: \"fadeOutLeft\",\n});\n\nvar lightbox = new SimpleLightbox(\".photo-card a\", {\n});\n\nconst elements = {\n    searchForm: document.querySelector(\".search-form\"),\n    gallery: document.querySelector(\".gallery\"),\n}\n\nelements.searchForm.addEventListener(\"submit\", handlerSearchPhoto);\n\nfunction handlerSearchPhoto(evt) {\n    evt.preventDefault();\n   \n    if (elements.searchForm[0].value) {\n        const tag = elements.searchForm[0].value.trim().toLowerCase();\n        elements.searchForm.reset();\n        servicePhoto(tag)\n            .then((data) => { \n                if (!data.hits.length) {\n                    iziToast.error({\n                        message: \"Sorry, there are no images matching your search query. Please try again.\",\n                    });\n                    return;\n                }\n                console.log(data);\n                elements.gallery.innerHTML = createMarkupGallary(data.hits);\n                lightbox.refresh();\n             })\n            .catch((err) => console.log(err));\n    }\n}\n\n\nfunction createMarkupGallary(arr) {\n    return arr.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <div class=\"photo-card\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <div class=\"thumb\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" loading=\"lazy\" />\n            </div>\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                        <b>Likes</b> ${likes}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Views</b> ${views}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Comments</b> ${comments}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Downloads</b> ${downloads}\n                    </p>\n            </div>\n        </a>\n    </div>\n    `).join(\"\");\n}\n\nasync function servicePhoto(q) {\n\n    const options = {\n        params: {\n            key:\"40906325-3c4aeac244a0485d830cf7c70\",\n            q,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n            per_page: 40,\n        }\n    }\n    \n    const response = await axios.get(\"https://pixabay.com/api/\", options);\n\n    return response.data;\n}"],"names":["iziToast","lightbox","SimpleLightbox","elements","handlerSearchPhoto","evt","tag","servicePhoto","data","createMarkupGallary","err","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","q","options","axios"],"mappings":"owBAOAA,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,WACV,aAAc,cACd,cAAe,aACjB,CAAC,EAED,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,CAAC,EAED,MAAMC,EAAW,CACb,WAAY,SAAS,cAAc,cAAc,EACjD,QAAS,SAAS,cAAc,UAAU,CAC9C,EAEAA,EAAS,WAAW,iBAAiB,SAAUC,CAAkB,EAEjE,SAASA,EAAmBC,EAAK,CAG7B,GAFAA,EAAI,eAAc,EAEdF,EAAS,WAAW,GAAG,MAAO,CAC9B,MAAMG,EAAMH,EAAS,WAAW,GAAG,MAAM,OAAO,cAChDA,EAAS,WAAW,QACpBI,EAAaD,CAAG,EACX,KAAME,GAAS,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACnBR,EAAS,MAAM,CACX,QAAS,0EACjC,CAAqB,EACD,MACH,CACD,QAAQ,IAAIQ,CAAI,EAChBL,EAAS,QAAQ,UAAYM,EAAoBD,EAAK,IAAI,EAC1DP,EAAS,QAAO,CAChC,CAAc,EACD,MAAOS,GAAQ,QAAQ,IAAIA,CAAG,CAAC,CACvC,CACL,CAGA,SAASD,EAAoBE,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,wCAEvDL;AAAA;AAAA,4BAEZD,WAAsBE;AAAA;AAAA;AAAA;AAAA,uCAIXC;AAAA;AAAA;AAAA,uCAGAC;AAAA;AAAA;AAAA,0CAGGC;AAAA;AAAA;AAAA,2CAGCC;AAAA;AAAA;AAAA;AAAA;AAAA,KAKtC,EAAE,KAAK,EAAE,CACd,CAEA,eAAeX,EAAaY,EAAG,CAE3B,MAAMC,EAAU,CACZ,OAAQ,CACJ,IAAI,qCACJ,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACb,CACJ,EAID,OAFiB,MAAME,EAAM,IAAI,2BAA4BD,CAAO,GAEpD,IACpB"}